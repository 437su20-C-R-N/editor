{% extends "layout.html" %}

{% block content %}
	{% if question_list %}
		<ul>
		{% for question in question_list %}
			<li class="question">
				<a href="{% url question_edit question.pk question.slug %}">{{ question.name }}</a>
				{% if user.username == question.author.username %}
					<a class="delete" href="{% url question_delete question.pk question.slug %}"></a>
				{% endif %}
			</li>
		{% endfor %}
		</ul>
	{% else %}
		<p>No questions are available.</p>
	{% endif %}

	{% if user.is_authenticated %}
		<button id="newQuestion" href="{% url question_new %}">New question</button>
	
		<form action="{% url question_new %}" method="post" id="newQuestionForm">
			{% csrf_token %}
			Name: <input type="text" name="name" maxlength="200" />
	        <input type="submit" value="Create" />
	        <input type="hidden" name="author" value="{{user.id}}" />
		</form>
	
		<form action="{% url question_upload %}" method="post" id="uploadForm">
			{% csrf_token %}
			<button>Upload a question</button>
			<div class="upload">
				<input type="file" name="file" value="yo"/>
				<textarea name="content"></textarea>
			</div>
		</form>
	{% endif %}
{% endblock content %}

{% block javascripts %}
    {{block.super}}
    <script type="text/javascript" src="{{ STATIC_URL }}js/question/index.js"></script>
{% endblock javascripts %}

{% block stylesheets %}
	{{ block.super }}
    <link href="{{ STATIC_URL }}css/index.css" type="text/css" rel="stylesheet" />
{% endblock stylesheets %}
